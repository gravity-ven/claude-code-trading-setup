<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spartan Research Station - Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(45deg, #1a1a2a, #2d41520);
            color: white;
            margin: 0;
            padding: 20px;
        }
        .dashboard {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0, 0.1);
        }
        .metric {
            display: inline-block;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            padding: 10px;
            margin-right: 15px;
            text-align: center;
        }
        .metric .value {
            font-weight: bold;
            color: #28ff7a0;
            display: block;
            font-size: 24px;
        }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: bold;
            margin-right: 10px;
        }
        .status.healthy {
            background: rgba(0, 255, 0, 0.1);
            color: #00c632;
            border: 1px solid #00c632;
        }
        .status.warning {
            background: rgba(255, 200, 0, 0.1);
            color: #ff6b00;
            border: 1px solid #ff6b00;
        }
        .main-nav {
            text-align: center;
            margin-bottom: 30px;
        }
        .main-nav a {
            color: #fff;
            text-decoration: none;
            margin: 0 10px;
            padding: 10px 20px;
            border: 1px solid rgba(255, 100, 100, 100, 0.1);
            border-radius: 4px;
            transition: background-color 0.3s ease;
        }
        .main-nav a:hover {
            background: rgba(139, 0, 0, 0.1);
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <h1>Spartan Research Station Dashboard</h1>
        
        <div class="status healthy">‚úÖ System Healthy</div>
        <div class="metric">
            <span class="value">50</span>
            <span class="label">Symbols</span>
        </div>
        
        <div class="section">
            <h2>üìä Market Data</h2>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Market Indices</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Commodities</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Forex</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Crypto</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Volatility</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üí∞ Economic Data</h2>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">FIndicators</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Indicators</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üìä Database</h2>
            <div class="metrics">
                <span class="value">50</span>
                <span class="label">Total Symbols</span>
            </div>
            <div class="metrics">
                <span class="value">‚ùå</span>
                <span class="label">Countries</span>
            </div>
            <div class="metrics">
                <span class="value">0</span>
                <span class="label">Asset Types</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üîÑ Analytics</h2>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Correlations</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Sector Rotation</span>
            </div>
            <div class="metric">
                <span class="value">‚ùå</span>
                <span class="label">Sentiment</span>
            </div>
        </div>
        
        <div class="section">
            <h2>üìä Compatibility</h2>
            <div class="status warning">‚ùå Yahoo API Not Available</div>
            <p>Yahoo Finance data endpoints require proper API integration setup.</p>
            
        </div>
        
        <div class="footer">
            <p>Last Updated: <span id="timestamp">NOW</span></p>
        </div>
    </div>

<script>
    // Simple fallback data testing
    async function testBasicData() {
        try {
            const response = await fetch('/api/db/stats');
            const stats = await response.json();
            console.log('‚úÖ Database connection working');
            return stats;
        } catch (error) {
            console.log('Database connection failed:', error);
            return null;
        }
    }

    // Start testing on page load
    window.addEventListener('load', async function() {
        console.log('Testing basic data access...');
        const basicStats = await testBasicData();
        
        if (basicStats && basicStats.total_symbols > 0) {
            document.getElementById('db-stats-value').textContent = basicStats.total_symbols;
            document.getElementById('symbols-count').textContent = basicStats.total_symbols;
            document.getElementById('countries-count').textContent = basicStats.countries;
        } else {
            document.getElementById('db-stats-value').textContent = '‚ùå';
            document.getElementById('symbols-count').textContent = '‚ùå';
            document.getElementById('countries-count').textContent = '0';
        }
    });
</script>
</body>
</html>
