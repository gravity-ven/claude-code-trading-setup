[Unit]
Description=Spartan Data Validation Monitor - Claude Code Bridge
Documentation=https://github.com/yourusername/Spartan_Labs
After=docker.service
Requires=docker.service
StartLimitIntervalSec=0

[Service]
Type=simple
Restart=always
RestartSec=10
User=spartan
WorkingDirectory=/path/to/Spartan_Labs/website
Environment="PATH=/usr/local/bin:/usr/bin:/bin"
Environment="PYTHONUNBUFFERED=1"

# Load environment variables
EnvironmentFile=-/path/to/Spartan_Labs/website/.env

# Run data validation monitor
ExecStart=/usr/bin/python3 /path/to/Spartan_Labs/website/src/data_validation_monitor.py --interval 60

# Logging
StandardOutput=append:/path/to/Spartan_Labs/website/logs/data_validation_monitor.log
StandardError=append:/path/to/Spartan_Labs/website/logs/data_validation_monitor.error.log

# Security hardening
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/path/to/Spartan_Labs/website/logs

[Install]
WantedBy=multi-user.target
